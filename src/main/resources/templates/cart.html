<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link th:href="@{/css/cart-style.css}" rel="stylesheet" />
    <link th:href="@{/css/footer-style.css}" rel="stylesheet"/>
    <title>Cart</title>
</head>
<body>
<div th:replace="~{fragments/navigation}"></div>

<main>
    <form th:action="@{/buy}" th:method="POST">
        <section class="cart_data">
            <table>
                <thead>
                <tr>
                    <th>Image</th>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th colspan="2">Total</th>
                    <th class="button"></th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="purchase: ${purchases}">
                    <td class="image"><img th:src="'/images/' + ${purchase.getProduct().getImageURL()}"></td>
                    <td><a class="product-name" href=""><span th:text="${purchase.getProduct().getName()}"></span></a>
<!--                        <span class="product-age" th:text="${purchase.getProduct().}"></span></td>-->
                    <td><span th:text="${purchase.getCount()}"></span></td>
                    <td><span th:text="${purchase.getProduct().getPrice()} + ' BGN'"></span></td>
                    <td><span th:text="${purchase.getTotalAmount()} + ' BGN'"></span>
                        <form action=""></form></td>
                    <td>
                        <form th:action="@{/delete-purchase/{id}(id=${purchase.purchaseId})}"
                              th:method="DELETE" >
                            <input class="btn btn-delete" type="submit"  value="X">
                        </form>
                    </td>
                </tr>
                </tbody>
            </table>

            <div class="control-panel">
                <p class="total-price" th:text="'Total price: ' + ${cartPrice} + ' BGN'"></p>
                <form th:action="@{/}" method="GET" id="continue-shopping">
                    <button form="continue-shopping"  class="btn btn-continue-shopping">Continue shopping</button>
                </form>

                <input class="btn btn-buy" type="submit" value="Buy">
            </div>
        </section>
    </form>
</main>
<div th:replace="~{fragments/footer}"></div>

</body>
</html>


